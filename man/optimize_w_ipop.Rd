% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/optim_w.R
\name{optimize_w_ipop}
\alias{optimize_w_ipop}
\title{Optimize Synthetic Weights via Quadratic Programming (ipop)}
\usage{
optimize_w_ipop(
  X,
  Z,
  t_max,
  dr,
  dt,
  i_max,
  target = "X",
  margin.ipop = 1e-04,
  sigf.ipop = 5,
  bound.ipop = 10
)
}
\arguments{
\item{X}{A numeric matrix of covariates in the target domain. First row is the treated unit,
remaining rows are control units.}

\item{Z}{A numeric matrix of covariates in the reference domain. First row is the treated unit,
remaining rows are control units.}

\item{t_max}{Integer.}

\item{dr}{Integer. Number of covariates in the reference domain, used for scaling.}

\item{dt}{Integer. Number of covariates in the target domain, used for scaling.}

\item{i_max}{Integer. Total number of units (treated + control).}

\item{target}{Character. Optimization target matrix: \code{"X"} or \code{"Z"}. Default is \code{"X"}.}

\item{margin.ipop}{Numeric. Margin for constraint violation tolerance in \code{ipop}. Default is \code{1e-4}.}

\item{sigf.ipop}{Integer. Number of significant figures in \code{ipop} solution. Default is \code{5}.}

\item{bound.ipop}{Numeric. Box constraint bound in \code{ipop}. Default is \code{10}.}
}
\value{
A list containing:
\describe{
\item{weights}{A numeric vector of optimized synthetic control weights.}
\item{loss}{The squared loss between treated and weighted control units.}
}
}
\description{
This function estimates synthetic control weights using the
\code{ipop()} function from the \code{kernlab} package to solve a constrained
quadratic programming problem. The weights are optimized to match the treated unit
to a convex combination of control units based on covariates \code{X} or \code{Z}.
}
\details{
This function uses quadratic programming to find weights \eqn{w} such that
\eqn{X_{treated} \approx X_{control} \cdot w}, subject to constraints:
\itemize{
\item \eqn{\sum w = 1}
\item \eqn{w \geq 0}
\item \eqn{w \leq 1}
}
The optimization problem is solved using \code{ipop()} from the \code{kernlab} package.
}
\examples{
X <- matrix(rnorm(40), nrow = 4)
Z <- matrix(rnorm(40), nrow = 4)
optimize_w_ipop(X, Z, t_max = 10, dr = 10, dt = 10, i_max = 4)

}
